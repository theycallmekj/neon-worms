<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <!-- Force Landscape on Mobile -->
  <meta name="screen-orientation" content="landscape" />
  <meta name="x5-orientation" content="landscape" />
  <meta name="x5-fullscreen" content="true" />
  <meta name="full-screen" content="yes" />
  <!-- Mobile App Meta -->
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="theme-color" content="#0f172a" />
  <!-- Prevent iOS tap highlight -->
  <meta name="format-detection" content="telephone=no" />
  <title>Neon Worms.io</title>
  <script defer src="https://cdn.tailwindcss.com"></script>
  <!-- Non-blocking font load -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@500;700&family=Titan+One&display=swap"
    media="print" onload="this.media='all'">
  <style>
    * {
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      user-select: none;
    }

    html,
    body {
      position: fixed;
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    body {
      font-family: 'Rajdhani', sans-serif;
      background-color: #0f172a;
      touch-action: manipulation;
    }

    .font-display {
      font-family: 'Orbitron', sans-serif;
    }

    /* Force landscape message for portrait mode */
    #rotate-device {
      display: none;
      position: fixed;
      inset: 0;
      background: #0f172a;
      z-index: 9999;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: white;
      font-family: 'Orbitron', sans-serif;
    }

    #rotate-device .icon {
      font-size: 64px;
      animation: rotate-phone 1.5s ease-in-out infinite;
    }

    @keyframes rotate-phone {

      0%,
      100% {
        transform: rotate(0deg);
      }

      50% {
        transform: rotate(-90deg);
      }
    }

    @media (orientation: portrait) and (max-width: 900px) {
      #rotate-device {
        display: flex !important;
      }

      #root {
        display: none !important;
      }
    }

    /* Custom scrollbar for high-tech feel */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: #1e293b;
    }

    ::-webkit-scrollbar-thumb {
      background: #3b82f6;
      border-radius: 4px;
    }

    /* Safe area padding for notched devices */
    .safe-area-inset {
      padding-left: env(safe-area-inset-left);
      padding-right: env(safe-area-inset-right);
      padding-top: env(safe-area-inset-top);
      padding-bottom: env(safe-area-inset-bottom);
    }
  </style>
  <script type="importmap">
{
  "imports": {
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0"
  }
}
</script>
  <link rel="stylesheet" href="/index.css">
</head>

<body>
  <!-- Rotate Device Message for Portrait Mode -->
  <div id="rotate-device">
    <div class="icon">ðŸ“±</div>
    <h2 style="font-size: 24px; margin-top: 20px;">Rotate Your Device</h2>
    <p style="font-size: 14px; opacity: 0.7; margin-top: 10px;">For the best experience, play in landscape mode</p>
  </div>

  <!-- Splash Screen (inline, zero dependencies) -->
  <div id="splash-screen" style="
    position: fixed; inset: 0; z-index: 99999;
    background: #050b14;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    font-family: 'Orbitron', 'Segoe UI', sans-serif;
    transition: opacity 0.5s ease;
  ">
    <!-- Snake Logo SVG -->
    <svg width="120" height="120" viewBox="0 0 120 120"
      style="margin-bottom: 24px; filter: drop-shadow(0 0 20px rgba(0,229,255,0.5));">
      <defs>
        <linearGradient id="snakeGrad" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#00e5ff" />
          <stop offset="50%" stop-color="#22d3ee" />
          <stop offset="100%" stop-color="#06b6d4" />
        </linearGradient>
      </defs>
      <!-- Snake body segments (neon circles) -->
      <circle cx="30" cy="85" r="8" fill="url(#snakeGrad)" opacity="0.4">
        <animate attributeName="opacity" values="0.3;0.6;0.3" dur="1.5s" repeatCount="indefinite" begin="0.6s" />
      </circle>
      <circle cx="42" cy="72" r="9" fill="url(#snakeGrad)" opacity="0.5">
        <animate attributeName="opacity" values="0.4;0.7;0.4" dur="1.5s" repeatCount="indefinite" begin="0.4s" />
      </circle>
      <circle cx="55" cy="62" r="10" fill="url(#snakeGrad)" opacity="0.6">
        <animate attributeName="opacity" values="0.5;0.8;0.5" dur="1.5s" repeatCount="indefinite" begin="0.2s" />
      </circle>
      <circle cx="70" cy="55" r="11" fill="url(#snakeGrad)" opacity="0.7">
        <animate attributeName="opacity" values="0.6;0.9;0.6" dur="1.5s" repeatCount="indefinite" begin="0.1s" />
      </circle>
      <!-- Snake head -->
      <circle cx="85" cy="45" r="13" fill="url(#snakeGrad)">
        <animate attributeName="r" values="13;14;13" dur="1s" repeatCount="indefinite" />
      </circle>
      <!-- Eyes -->
      <circle cx="89" cy="41" r="3" fill="white" />
      <circle cx="89" cy="41" r="1.5" fill="#0a0a1a" />
      <circle cx="82" cy="39" r="3" fill="white" />
      <circle cx="82" cy="39" r="1.5" fill="#0a0a1a" />
    </svg>

    <!-- Title -->
    <div style="
      font-size: 28px; font-weight: 900; color: #00e5ff;
      letter-spacing: 6px; text-transform: uppercase;
      text-shadow: 0 0 20px rgba(0,229,255,0.5), 0 0 40px rgba(0,229,255,0.2);
      margin-bottom: 32px;
    ">NEON WORMS</div>

    <!-- Progress Bar Container -->
    <div style="
      width: 220px; height: 6px;
      background: rgba(255,255,255,0.08);
      border-radius: 3px; overflow: hidden;
      border: 1px solid rgba(0,229,255,0.15);
    ">
      <div id="splash-progress" style="
        width: 0%; height: 100%;
        background: linear-gradient(90deg, #00e5ff, #06b6d4, #22d3ee);
        border-radius: 3px;
        transition: width 0.3s ease;
        box-shadow: 0 0 10px rgba(0,229,255,0.5);
      "></div>
    </div>

    <!-- Loading Text -->
    <div id="splash-text" style="
      margin-top: 12px; font-size: 10px;
      color: rgba(255,255,255,0.4); letter-spacing: 3px;
      text-transform: uppercase;
    ">LOADING...</div>
  </div>

  <div id="root"></div>
  <script type="module" src="/index.tsx"></script>

  <script>
    // Force landscape on Android if possible
    if (screen.orientation && screen.orientation.lock) {
      screen.orientation.lock('landscape').catch(() => { });
    }

    // Prevent default touch behaviors EXCEPT inside scrollable areas
    document.addEventListener('touchmove', function (e) {
      // Allow scroll inside .touch-scroll-y containers
      if (e.target.closest && e.target.closest('.touch-scroll-y')) return;
      if (e.target.tagName === 'INPUT') return;
      e.preventDefault();
    }, { passive: false });

    // Prevent context menu on long press
    document.addEventListener('contextmenu', function (e) {
      e.preventDefault();
    });

    // Prevent double-tap zoom
    let lastTouchEnd = 0;
    document.addEventListener('touchend', function (e) {
      const now = Date.now();
      if (now - lastTouchEnd <= 300) {
        e.preventDefault();
      }
      lastTouchEnd = now;
    }, { passive: false });
  </script>
</body>

</html>